<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ркбрк┐ркЬрк┐ркЯрк▓ ркШркбрк┐ркпрк╛рк│</title>
    <style>
        body { 
            font-family: 'Arial', sans-serif; 
            text-align: left; 
            background-color: #f4f4f4; 
            color: #333; 
            padding: 20px; 
        }
        .clock-container { 
            background-color: #fff; 
            padding: 15px 20px; 
            border-radius: 10px; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
            max-width: 300px; 
            margin: 20px auto; 
        }
        
        /* ркмркзрк╛ ркорлВрк▓рлНркпрлЛ ркорк╛ркЯрлЗ ркПркХрк╕рк░ркЦрлБркВ, ркУркЫрлБркВ рк╕рлНрккрлЗрк╕рк┐ркВркЧ */
        #time, #date-str, #day-name, #gujarati-month, #tithi, #choghadiya, #festival { 
            font-size: 1em; 
            font-weight: normal; 
            margin: 2px 0; 
            padding: 0;
            line-height: 1.2; 
            color: #333; 
            display: block; 
        }
        
        #time {
             font-size: 1.2em; 
        }

        #date-details { 
            margin-bottom: 5px; 
            line-height: 1.2;
        }

        .panchang-placeholder { 
            margin-top: 10px; 
            color: #6c757d; 
            font-style: italic; 
            font-size: 0.8em; 
            display: none;
        }
    </style>
</head>
<body>

    <div class="clock-container">
        <div id="time">рк▓рлЛркб ркерк╛ркп ркЫрлЗ...</div>
        
        <div id="date-details">
            <div id="date-str"></div>
            <div id="day-name"></div>
        </div>
        
        <div id="gujarati-month"></div>
        <div id="tithi"></div>
        
        <div id="choghadiya"></div>
        
        <div id="festival"></div>
        
        <div class="panchang-placeholder">
            ркирлЛркВркз: ркЧрлБркЬрк░рк╛ркдрлА ркорк╣рк┐ркирлЛ ркЕркирлЗ ркдрк┐ркерк┐ркирлЛ ркбрлЗркЯрк╛ рк╕рлЗркЯ ркмрк╛ркХрлА ркЫрлЗ.
        </div>
    </div>

    <script>
        // ============== ркбрлЗркЯрк╛ рк╕рлЗркЯрлНрк╕ ==============
        const sunriseSunsetData = {
            "09-11-2025": { sunrise: "06:45", sunset: "18:00" }, 
            "10-11-2025": { sunrise: "06:45", sunset: "18:00" }, 
            "11-11-2025": { sunrise: "06:46", sunset: "17:59" },
            "12-11-2025": { sunrise: "06:46", sunset: "17:59" },
            "13-11-2025": { sunrise: "06:47", sunset: "17:59" },
            "14-11-2025": { sunrise: "06:47", sunset: "17:59" },
            "15-11-2025": { sunrise: "06:48", sunset: "17:58" }
        };

        const choghadiyaOrder = {
            0: { day: ["ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн", "ркЕркорлГркд", "ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ"], night: ["рк╢рлБркн", "ркЕркорлГркд", "ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "рк╢рлБркн"] }, 
            1: { day: ["ркЕркорлГркд", "ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн", "ркЕркорлГркд"], night: ["ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "ркЕркорлГркд", "ркЪрк▓", "рк╢рлБркн"] }, 
            2: { day: ["рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн", "ркЕркорлГркд", "ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ"], night: ["ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн", "ркЕркорлГркд", "ркХрк╛рк│"] }, 
            3: { day: ["рк▓рк╛ркн", "ркЕркорлГркд", "ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн"], night: ["рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "ркЕркорлГркд", "ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк╢рлБркн", "рк▓рк╛ркн"] }, 
            4: { day: ["рк╢рлБркн", "ркЕркорлГркд", "ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "рк╢рлБркн"], night: ["ркЕркорлГркд", "ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "рк╢рлБркн", "ркЕркорлГркд"] }, 
            5: { day: ["ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "ркЕркорлГркд", "ркЪрк▓", "рк╢рлБркн"], night: ["рк░рлЛркЧ", "ркХрк╛рк│", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "ркЕркорлГркд", "рк╢рлБркн", "ркЪрк▓", "рк░рлЛркЧ"] }, 
            6: { day: ["ркХрк╛рк│", "рк╢рлБркн", "рк░рлЛркЧ", "ркЙркжрлНрк╡рлЗркЧ", "ркЪрк▓", "рк▓рк╛ркн", "ркЕркорлГркд", "ркХрк╛рк│"], night: ["рк╢рлБркн", "рк▓рк╛ркн", "ркЙркжрлНрк╡рлЗркЧ", "ркЕркорлГркд", "ркЪрк▓", "рк░рлЛркЧ", "ркХрк╛рк│", "рк╢рлБркн"] }  
        };

        const FESTIVALS_CALENDAR = {
            "11-05": "ркЧрлБрк░рлБ ркирк╛ркиркХ ркЬркпркВркдрк┐", "11-24": "ркЧрлБрк░рлБ ркдрлЗркЧ ркмрк╣рк╛ркжрлБрк░ рк╢рк╣рлАркжрлА ркжрк┐рк╡рк╕",
            "12-24": "ркирк╛ркдрк╛рк▓ркирлА рккрлВрк░рлНрк╡ рк╕ркВркзрлНркпрк╛", "12-25": "ркирк╛ркдрк╛рк▓"
        };
        
        // рккркВркЪрк╛ркВркЧ ркбрлЗркЯрк╛ рк╕рлЗркЯ: ркдрк┐ркерк┐ ркЕркирлЗ ркЧрлБркЬрк░рк╛ркдрлА ркорк╣рк┐ркирлЛ
        // ркХрлЕрк▓рлЗркирлНркбрк░ рккрлНрк░ркорк╛ркгрлЗ ркирк╡рлЗркорлНркмрк░ 2025 ркорк╛ркЯрлЗркирлЛ ркбрлЗркЯрк╛
        const PANCHANG_CALENDAR = {
            "10/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "рк╡ркж ркжрк╢рко" },
            "11/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "рк╡ркж ркПркХрк╛ркжрк╢рлА" },
            "12/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "рк╡ркж ркжрлНрк╡рк╛ркжрк╢рлА" },
            "13/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "рк╡ркж ркдрлЗрк░рк╕" },
            "14/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "рк╡ркж ркЪрлМркжрк╕" },
            "15/11/2025": { month: "ркХрк╛рк░ркдркХ", tithi: "ркЕркорк╛рк╕" },
            "16/11/2025": { month: "ркорк╛ркЧрк╢рк░", tithi: "рк╕рлБркж ркПркХрко" },
        };
        // ======================================

        const dayNames = ["рк░рк╡рк┐рк╡рк╛рк░", "рк╕рлЛркорк╡рк╛рк░", "ркоркВркЧрк│рк╡рк╛рк░", "ркмрлБркзрк╡рк╛рк░", "ркЧрлБрк░рлБрк╡рк╛рк░", "рк╢рлБркХрлНрк░рк╡рк╛рк░", "рк╢ркирк┐рк╡рк╛рк░"];

        function convertTimeToMs(time) {
            if (!time) return 0;
            const [hours, minutes] = time.split(':').map(Number);
            return (hours * 60 + minutes) * 60 * 1000;
        }

        function formatDate(date) {
            return `${String(date.getDate()).padStart(2, '0')}-${String(date.getMonth() + 1).padStart(2, '0')}-${date.getFullYear()}`;
        }
        
        function formatMonthDay(date) {
            return `${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        }
        
        // ЁЯЫСЁЯЫСЁЯЫС ркнрлВрк▓ рк╕рлБркзрк╛рк░рлА: ркЖ рклркВркХрлНрк╢ркиркирлА рк╡рлНркпрк╛ркЦрлНркпрк╛ ркЙркорлЗрк░рк╡рк╛ркорк╛ркВ ркЖрк╡рлА
        function formatPanchangDate(date) { 
            return `${String(date.getDate()).padStart(2, '0')}/${String(date.getMonth() + 1).padStart(2, '0')}/${date.getFullYear()}`;
        }

        function getSunTimestamps(date) {
            const dateOnlyMs = new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();
            
            const previousDay = new Date(date);
            previousDay.setDate(date.getDate() - 1);
            const previousData = sunriseSunsetData[formatDate(previousDay)];
            const previousSunsetTime = previousData ? dateOnlyMs - (24 * 60 * 60 * 1000) + convertTimeToMs(previousData.sunset) : null;
            
            const currentData = sunriseSunsetData[formatDate(date)];
            const currentSunriseTime = currentData ? dateOnlyMs + convertTimeToMs(currentData.sunrise) : null;
            const currentSunsetTime = currentData ? dateOnlyMs + convertTimeToMs(currentData.sunset) : null;

            const nextDay = new Date(date);
            nextDay.setDate(date.getDate() + 1);
            const nextData = sunriseSunsetData[formatDate(nextDay)];
            const nextSunriseTime = nextData ? dateOnlyMs + (24 * 60 * 60 * 1000) + convertTimeToMs(nextData.sunrise) : null;
            
            return { previousSunsetTime, currentSunriseTime, currentSunsetTime, nextSunriseTime };
        }

        function getChoghadiya(currentDate) {
            const { previousSunsetTime, currentSunriseTime, currentSunsetTime, nextSunriseTime } = getSunTimestamps(currentDate);

            if (!currentSunriseTime || !currentSunsetTime) {
                return `ркЪрлЛркШркбрк┐ркпрлБркВ ркбрлЗркЯрк╛ ркиркерлА`;
            }

            const now = currentDate.getTime();
            const dayOfWeek = currentDate.getDay(); 
            
            let choghadiyaName = "";

            if (now >= currentSunriseTime && now < currentSunsetTime) {
                const choghadiyaList = choghadiyaOrder[dayOfWeek].day; 
                const durationMs = (currentSunsetTime - currentSunriseTime) / 8;
                const timeElapsed = now - currentSunriseTime;
                const choghadiyaIndex = Math.floor(timeElapsed / durationMs);
                choghadiyaName = choghadiyaList[Math.min(choghadiyaIndex, 7)];
            } else {
                if (!previousSunsetTime || !nextSunriseTime) {
                    return `ркЪрлЛркШркбрк┐ркпрлБркВ ркбрлЗркЯрк╛ ркиркерлА`;
                }

                let nightStart, nightEnd, nightDayOfWeek;
                
                if (now >= currentSunsetTime) {
                    nightStart = currentSunsetTime;
                    nightEnd = nextSunriseTime; 
                    nightDayOfWeek = dayOfWeek; 
                } else {
                    nightStart = previousSunsetTime;
                    nightEnd = currentSunriseTime; 
                    nightDayOfWeek = (dayOfWeek - 1 + 7) % 7; 
                }

                const choghadiyaList = choghadiyaOrder[nightDayOfWeek].night; 
                const durationMs = (nightEnd - nightStart) / 8;
                const timeElapsed = now - nightStart;
                const choghadiyaIndex = Math.floor(timeElapsed / durationMs);
                choghadiyaName = choghadiyaList[Math.min(choghadiyaIndex, 7)];
            }
            return choghadiyaName; 
        }

        // ркорлБркЦрлНркп ркШркбрк┐ркпрк╛рк│ рклркВркХрлНрк╢рки
        function updateClock() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            
            // рк╕ркоркп (HH:MM)
            const timeString = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
            
            // ркЕркВркЧрлНрк░рлЗркЬрлА ркдрк╛рк░рлАркЦ ркЕркирлЗ рк╡рк╛рк░
            const dateString = `${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}/${now.getFullYear()}`;
            const dayName = dayNames[now.getDay()];
            
            // ркЪрлЛркШркбрк┐ркпрлБркВ
            const choghadiya = getChoghadiya(now);

            // ркЧрлБркЬрк░рк╛ркдрлА рккркВркЪрк╛ркВркЧ рк╡рк┐ркЧркдрлЛ
            const panchangDateKey = formatPanchangDate(now); // ЁЯЫСЁЯЫСЁЯЫС рк╣рк╡рлЗ ркЖ рклркВркХрлНрк╢рки рк╡рлНркпрк╛ркЦрлНркпрк╛ркпрк┐ркд ркЫрлЗ
            const panchangData = PANCHANG_CALENDAR[panchangDateKey];
            
            let gujaratiMonth = "";
            let tithi = "";

            if (panchangData) {
                gujaratiMonth = panchangData.month;
                tithi = panchangData.tithi;
            } else {
                gujaratiMonth = "ркбрлЗркЯрк╛ ркиркерлА";
                tithi = "ркбрлЗркЯрк╛ ркиркерлА";
            }

            // ркдрк╣рлЗрк╡рк╛рк░
            const monthDay = formatMonthDay(now);
            const festival = FESTIVALS_CALENDAR[monthDay] || "";

            // HTML ркЕрккркбрлЗркЯ ркХрк░рлЛ
            document.getElementById('time').innerHTML = timeString; 
            document.getElementById('date-str').innerHTML = dateString;
            document.getElementById('day-name').innerHTML = dayName;
            
            // ркирк╡рк╛ рккркВркЪрк╛ркВркЧ ркорлВрк▓рлНркпрлЛ ркЕрккркбрлЗркЯ ркХрк░рлЛ
            document.getElementById('gujarati-month').innerHTML = gujaratiMonth;
            document.getElementById('tithi').innerHTML = tithi;

            document.getElementById('choghadiya').innerHTML = choghadiya;
            
            if (festival) {
                document.getElementById('festival').style.display = 'block';
                document.getElementById('festival').innerHTML = festival;
            } else {
                document.getElementById('festival').style.display = 'none';
            }
            
            // ркирлЛркВркзркирлЗ ркЫрлБрккрк╛рк╡рлЛ, ркХрк╛рк░ркг ркХрлЗ рккркВркЪрк╛ркВркЧ ркбрлЗркЯрк╛ ркЖрк╡рлА ркЧркпрлЛ ркЫрлЗ
            document.querySelector('.panchang-placeholder').style.display = 'none';
        }

        // рклркВркХрлНрк╢ркиркирлЗ ркжрк░ рк╕рлЗркХркирлНркбрлЗ ркЪрк▓рк╛рк╡рк╡рлБркВ
        setInterval(updateClock, 1000);
        // ркдрк░ркд ркЬ рккрк╣рлЗрк▓рлБркВ ркЕрккркбрлЗркЯ ркЪрк▓рк╛рк╡рлЛ
        updateClock();
    </script>

</body>
</html>
