<!DOCTYPE html>
<html lang="gu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ગુજરાતી ડિજિટલ ઘડિયાળ - ચોઘડિયાં સાથે</title>
    <style>
        body { font-family: 'Arial', sans-serif; text-align: center; background-color: #f4f4f4; color: #333; padding: 20px; }
        .clock-container { background-color: #fff; padding: 30px; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); max-width: 500px; margin: 50px auto; }
        #time { font-size: 4em; font-weight: bold; margin-bottom: 10px; color: #007bff; }
        #date-details { font-size: 1.2em; margin-bottom: 20px; }
        #choghadiya { font-size: 1.5em; font-weight: 600; padding: 10px; border: 2px solid #28a745; border-radius: 8px; background-color: #e6ffed; color: #28a745; }
        .panchang-placeholder { margin-top: 20px; color: #6c757d; font-style: italic; }
    </style>
</head>
<body>

    <div class="clock-container">
        <div id="time"></div>
        <div id="date-details"></div>
        <div id="choghadiya">ચોઘડિયું લોડ થાય છે...</div>
        
        <div class="panchang-placeholder">
            **નોંધ:** ગુજરાતી મહિનો, તિથિ, અને તહેવારોનો ડેટા સેટ બાકી છે.
        </div>
    </div>

    <script>
        // ૧. સૂર્યોદય અને સૂર્યાસ્તનો તમારો ૭ દિવસનો ડેટા સેટ (DD-MM-YYYY ફોર્મેટમાં કી)
        const sunriseSunsetData = {
            "09-11-2025": { sunrise: "06:45", sunset: "18:00" },
            "10-11-2025": { sunrise: "06:45", sunset: "18:00" },
            "11-11-2025": { sunrise: "06:46", sunset: "17:59" },
            "12-11-2025": { sunrise: "06:46", sunset: "17:59" },
            "13-11-2025": { sunrise: "06:47", sunset: "17:59" },
            "14-11-2025": { sunrise: "06:47", sunset: "17:59" },
            "15-11-2025": { sunrise: "06:48", sunset: "17:58" }
        };

        // ૨. પ્રમાણભૂત ચોઘડિયાંનો ક્રમ (વારના ક્રમ મુજબ 0=રવિવાર, 1=સોમવાર, વગેરે)
        const choghadiyaOrder = {
            // રવિવાર: 0
            0: { day: ["ઉદ્વેગ", "ચલ", "લાભ", "અમૃત", "કાળ", "શુભ", "રોગ", "ઉદ્વેગ"], night: ["શુભ", "અમૃત", "ચલ", "રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "શુભ"] },
            // સોમવાર: 1
            1: { day: ["અમૃત", "કાળ", "શુભ", "રોગ", "ઉદ્વેગ", "ચલ", "લાભ", "અમૃત"], night: ["ચલ", "રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "અમૃત", "ચલ", "શુભ"] },
            // મંગળવાર: 2
            2: { day: ["રોગ", "ઉદ્વેગ", "ચલ", "લાભ", "અમૃત", "કાળ", "શુભ", "રોગ"], night: ["કાળ", "શુભ", "રોગ", "ઉદ્વેગ", "ચલ", "લાભ", "અમૃત", "કાળ"] },
            // બુધવાર: 3
            3: { day: ["લાભ", "અમૃત", "કાળ", "શુભ", "રોગ", "ઉદ્વેગ", "ચલ", "લાભ"], night: ["લાભ", "ઉદ્વેગ", "અમૃત", "ચલ", "રોગ", "કાળ", "શુભ", "લાભ"] },
            // ગુરુવાર: 4
            4: { day: ["શુભ", "અમૃત", "ચલ", "રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "શુભ"], night: ["અમૃત", "ચલ", "રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "શુભ", "અમૃત"] },
            // શુક્રવાર: 5
            5: { day: ["ચલ", "રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "અમૃત", "ચલ", "શુભ"], night: ["રોગ", "કાળ", "લાભ", "ઉદ્વેગ", "અમૃત", "શુભ", "ચલ", "રોગ"] },
            // શનિવાર: 6
            6: { day: ["કાળ", "શુભ", "રોગ", "ઉદ્વેગ", "ચલ", "લાભ", "અમૃત", "કાળ"], night: ["શુભ", "લાભ", "ઉદ્વેગ", "અમૃત", "ચલ", "રોગ", "કાળ", "શુભ"] }
        };

        const dayNames = ["રવિવાર", "સોમવાર", "મંગળવાર", "બુધવાર", "ગુરુવાર", "શુક્રવાર", "શનિવાર"];

        // HH:MM સ્ટ્રિંગને મિલિસેકન્ડ્સમાં કન્વર્ટ કરે છે
        function convertTimeToMs(time) {
            const [hours, minutes] = time.split(':').map(Number);
            return (hours * 60 + minutes) * 60 * 1000;
        }

        /**
         * ચોક્કસ તારીખ અને સમય માટે સૂર્યોદય/સૂર્યાસ્ત ડેટા અને મિલિસેકન્ડ ટાઇમ મેળવે છે.
         * @param {Date} date - વર્તમાન Date ઓબ્જેક્ટ
         * @returns {object} { currentData, previousData, sunriseTime, sunsetTime, nextSunriseTime }
         */
        function getSunTimesAndData(date) {
            const dateStr = `${String(date.getDate()).padStart(2, '0')}-${String(date.getMonth() + 1).padStart(2, '0')}-${date.getFullYear()}`;
            const currentData = sunriseSunsetData[dateStr];
            
            if (!currentData) {
                return { currentData: null }; // ડેટા નથી
            }
            
            // તારીખને માત્ર આજની તારીખમાં સેટ કરવી (સમય 00:00:00)
            const dateOnly = new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();
            const sunriseTime = dateOnly + convertTimeToMs(currentData.sunrise);
            const sunsetTime = dateOnly + convertTimeToMs(currentData.sunset);

            // આવતીકાલનો સૂર્યોદય (રાતના ચોઘડિયાં માટે)
            const nextDay = new Date(date);
            nextDay.setDate(date.getDate() + 1);
            const nextDateStr = `${String(nextDay.getDate()).padStart(2, '0')}-${String(nextDay.getMonth() + 1).padStart(2, '0')}-${nextDay.getFullYear()}`;
            const nextSunriseData = sunriseSunsetData[nextDateStr];
            let nextSunriseTime = null;
            if (nextSunriseData) {
                const nextDayOnly = new Date(nextDay.getFullYear(), nextDay.getMonth(), nextDay.getDate()).getTime();
                nextSunriseTime = nextDayOnly + convertTimeToMs(nextSunriseData.sunrise);
            }

            // પાછલા દિવસનો સૂર્યાસ્ત (રાત ૦૦:૦૦ થી સૂર્યોદય માટે)
            const previousDay = new Date(date);
            previousDay.setDate(date.getDate() - 1);
            const previousDateStr = `${String(previousDay.getDate()).padStart(2, '0')}-${String(previousDay.getMonth() + 1).padStart(2, '0')}-${previousDay.getFullYear()}`;
            const previousData = sunriseSunsetData[previousDateStr];
            
            return { currentData, previousData, sunriseTime, sunsetTime, nextSunriseTime };
        }


        function getChoghadiya(currentDate) {
            const { currentData, previousData, sunriseTime, sunsetTime, nextSunriseTime } = getSunTimesAndData(currentDate);

            if (!currentData) {
                const dateStr = `${String(currentDate.getDate()).padStart(2, '0')}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${currentDate.getFullYear()}`;
                return `ચોઘડિયાંનો ડેટા (તા: ${dateStr}) ઉપલબ્ધ નથી.`;
            }
            
            const now = currentDate.getTime();
            const dayOfWeek = currentDate.getDay(); // 0 (રવિવાર) થી 6 (શનિવાર)

            // ૧. દિવસના ચોઘડિયાં (સૂર્યોદય થી સૂર્યાસ્ત)
            if (now >= sunriseTime && now < sunsetTime) {
                const choghadiyaList = choghadiyaOrder[dayOfWeek].day;
                const durationMs = (sunsetTime - sunriseTime) / 8;
                const timeElapsed = now - sunriseTime;
                const choghadiyaIndex = Math.floor(timeElapsed / durationMs);
                return `દિવસનું ચોઘડિયું: **${choghadiyaList[choghadiyaIndex]}**`;
            }

            // ૨. રાતના ચોઘડિયાં - ભાગ-૧ (સૂર્યાસ્ત થી મધ્યરાત્રી ૨૩:૫૯:૫૯)
            if (now >= sunsetTime) {
                if (!nextSunriseTime) {
                    return "રાતના ચોઘડિયાં ગણવા આવતીકાલનો સૂર્યોદય ડેટા ઉપલબ્ધ નથી.";
                }

                // રાતના ચોઘડિયાં માટે વાર 'આવતીકાલનો' ગણાય
                const nightDayOfWeek = (dayOfWeek + 1) % 7; 
                const choghadiyaList = choghadiyaOrder[nightDayOfWeek].night;
                
                const durationMs = (nextSunriseTime - sunsetTime) / 8;
                const timeElapsed = now - sunsetTime;
                const choghadiyaIndex = Math.floor(timeElapsed / durationMs);
                
                // આ લોજિક મધ્યરાત્રી પછી પણ ચાલશે કારણ કે nextSunriseTime આવતીકાલની તારીખે સેટ થયેલો છે.
                return `રાતનું ચોઘડિયું: **${choghadiyaList[choghadiyaIndex]}**`;
            }
            
            // ૩. રાતના ચોઘડિયાં - ભાગ-૨ (મધ્યરાત્રી ૦૦:૦૦ થી સૂર્યોદય)
            if (now < sunriseTime) {
                 if (!previousData || !nextSunriseTime) {
                    return "રાતના ચોઘડિયાં (સૂર્યોદય પહેલાનો સમય) ગણવા માટે પૂરતો ડેટા ઉપલબ્ધ નથી.";
                }

                // રાતના ચોઘડિયાં માટે વાર 'આજનો' ગણાય છે, જે પાછલા દિવસના રાતના ચોઘડિયાંનો ભાગ છે.
                const previousDayOfWeek = (dayOfWeek - 1 + 7) % 7; 
                const choghadiyaList = choghadiyaOrder[dayOfWeek].night; // વાર આજનો પણ ક્રમ પાછલા દિવસના રાતનો લેવાનો

                // પાછલા દિવસનો સૂર્યાસ્ત સમય
                const previousDayOnly = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() - 1).getTime();
                const previousSunsetTime = previousDayOnly + convertTimeToMs(previousData.sunset);

                // ગણતરીનો સમયગાળો: પાછલા દિવસના સૂર્યાસ્તથી આજના સૂર્યોદય સુધી.
                const durationMs = (sunriseTime + convertTimeToMs("24:00") - previousSunsetTime) / 8;
                const timeElapsed = now + convertTimeToMs("24:00") - previousSunsetTime;
                
                // આ ગણતરીમાં જટિલતાને કારણે, આ ભાગને સરળ રાખવા માટે 24-કલાકની ગણતરીનો ઉપયોગ કર્યો છે.
                // નોંધ: આ ભાગને વધુ ડેટા (પ્રીવિયસ સૂર્યોદય/સૂર્યાસ્ત) સાથે વધુ ચોક્કસ કરી શકાય છે.
                // હાલ પૂરતું, આ લોજિક ૦૦:૦૦ પછીનો સમય સંભાળશે.
                let choghadiyaIndex = Math.floor(timeElapsed / durationMs);
                
                // Index 8 થી મોટો ન થાય તેની ખાતરી
                if (choghadiyaIndex >= 8) {
                    choghadiyaIndex = choghadiyaIndex % 8; 
                }
                
                return `રાતનું ચોઘડિયું (સૂર્યોદય પહેલા): **${choghadiyaList[choghadiyaIndex]}**`;
            }
            
            return "સમયની ગણતરી અશક્ય"; // Fallback
        }

        // મુખ્ય ઘડિયાળ ફંક્શન
        function updateClock() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            const day = now.getDay();

            // સમય: HH:MM:SS
            const timeStr = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
            
            // તારીખ અને વાર
            const dateStr = `${String(now.getDate()).padStart(2, '0')}-${String(now.getMonth() + 1).padStart(2, '0')}-${now.getFullYear()}`;
            const detailsStr = `${dateStr}, ${dayNames[day]}`;

            document.getElementById('time').textContent = timeStr;
            document.getElementById('date-details').textContent = detailsStr;
            
            // ચોઘડિયાં અપડેટ કરવા
            const choghadiyaStr = getChoghadiya(now);
            document.getElementById('choghadiya').innerHTML = choghadiyaStr;
        }

        // દર સેકન્ડે ઘડિયાળ અપડેટ કરવી
        setInterval(updateClock, 1000);
        // પ્રથમ વખત તરત જ શરૂ કરવું
        updateClock();
    </script>
</body>
        </html>
        
